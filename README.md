# Next.js Core Concepts
In this module, we’ll dive into the core concepts of Next.js to take your skills to the next level. You’ll learn how to optimize images, fonts, and metadata for better performance and SEO, explore pre-rendering strategies like SSG, SSR, and ISR, and practice advanced data fetching techniques. We’ll also cover global error handling, active links, and wrap up with hands-on tasks to solidify your learning.

# Next.js Core Concepts part-1
## 52-1 Optimize image using Image Component
### external image use case
- first image using local image tag 
- 2nd image using nextjs image must be ad width and height and add src link next.config 
- next.config.ts
```ts
import type { NextConfig } from "next";

const nextConfig: NextConfig = {

  // images: {
  //   remotePatterns: [new URL("https://images.prismic.io/staticmania/ZiT7AvPdc1huKqJS_Next.js.jpg?auto=format,compress")],
  // },
// if i am using 1 k image all image source adding is very boring  here is a update solution
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: '**',
     
      },
    ],
  },
};

export default nextConfig;

```
- gallery folder
```ts
import Image from 'next/image';
import React from 'react';

const GalleryPage = () => {
    return (
        <div className='text-center'>
       <h1>Regular Image Tag</h1>
       <img
       src="https://images.prismic.io/staticmania/ZiT7AvPdc1huKqJS_Next.js.jpg?auto=format,compress"
       width={500}
       height={500}
       className='mx-auto'
       />
        <h1>Next js image Component</h1>
        <Image 
            src="https://images.prismic.io/staticmania/ZiT7AvPdc1huKqJS_Next.js.jpg?auto=format,compress"
            alt='next image'
            width={500} 
            height={500}
            className=' mx-auto'
            />
            
        </div>
    );
};

export default GalleryPage;
```
- this is output nextjs is more fast change type name and also so fast mili second
![alt text](image.png)
 ### internal image use case
 ```ts
 import Image from 'next/image';
import React from 'react';
import nextImg from '../../../assets/nextjs3.webp'

const GalleryPage = () => {
    return (
        <div className='text-center'>
       <h1>Regular Image Tag</h1>
       <img
    //    src={nextImg} dont use as like not worked this
       src="https://images.prismic.io/staticmania/ZiT7AvPdc1huKqJS_Next.js.jpg?auto=format,compress"
       width={500}
       height={500}
       className='mx-auto'
       />
        <h1>Next js image Component</h1>
        <Image 
            src="https://images.prismic.io/staticmania/ZiT7AvPdc1huKqJS_Next.js.jpg?auto=format,compress"
            alt='next image'
            width={500} 
            height={500}
            className=' mx-auto'
            />
        <h1> local Next js image from assets Folder Component</h1>
        <Image 
        // must import from assets folder
            src={nextImg}
            alt='next image'
            width={500} 
            height={500}
            className=' mx-auto'
            />
        <h1> local Next js image from public Folder Component</h1>
        <Image 
            // src="/public/nextjs3.webp" / must be cancel /public and not need to import
            src="/nextjs3.webp"
            alt='next image'
            width={500} 
            height={500}
            className=' mx-auto'
            />
            
        </div>
    );
};

export default GalleryPage;
```

## 52-2 Optimize Fonts, Improve SEO with Metadata, and Use Import Aliases
###  Optimize Fonts
```ts
import type { Metadata } from "next";
import { Geist, Geist_Mono,Roboto } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});
const roboto = Roboto({
  weight: '400',
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
    
      <body
      // just add here
        className={roboto.className}
      >
        {children}
      </body>
    </html>
  );
}
```
### Improve SEO with Metadata
![alt text](image-1.png)
```ts
import { Metadata } from "next";


export const metadata:Metadata = {
    title:"About use",
    description:"this is about us page"
}

const AboutPage = () => {
    return (
        <div>
            AboutPage 
        </div>
    );
};

export default AboutPage;
```
### Use Import Aliases
- absolute path import
```ts
import Navbar from '@/components/Navbar';
```
- relative path import when we are fount dot notation
 just add @ first to folder
```ts
// import nextImg from '../../assets/nextjs3.webp'
import nextImg from '@/assets/nextjs3.webp'
```
## 52-3 Explain core concept of pre-rendering (SSG + SSR)
![alt text](image-2.png)
#### static site generation(ssg)
When we build a Next.js project and deploy it to a hosting service like Vercel, Render, or Firebase, we first create a build folder.
During the build process, Next.js generates static content as HTML and bundled files.
These files are then deployed to the hosting provider.
After deployment, when a user visits a route such as /contact, the browser sends a request to the host, which returns the pre-built HTML for that route.
The browser displays the content immediately.
This whole process is called Static Site Generation (SSG).
- not dynamic data here
#### server side rendering
![alt text](image-3.png)
When a user requests a page that needs dynamic data, the browser sends a request to the server.
The server queries the database, retrieves the requested data, and uses it to generate the complete HTML for that page.
The server then sends this HTML back to the browser, which displays it to the user.

## 52-4 Set-up Json Server for Next Level Data Fetching
- fetch method use condition 
- 1 server side and we are know nextjs is by default server side rendering
- 2 use async await  method

- use dami json date from json-server https://www.npmjs.com/package/json-server


```ts
/* eslint-disable @typescript-eslint/no-explicit-any */

import ProductCard from '@/components/products/ProductCard';
import { IProduct } from '@/type';
import React from 'react';

const ProductsPage =async () => {
    const res = await fetch("http://localhost:5000/products")
    // db.json
    const products = await res.json()
    console.log(products)
    return (
    <div className="max-w-7xl mx-auto text-center my-8 px-4 sm:px-6 lg:px-8 grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3">
  {products.map((product: IProduct) => (
    <ProductCard key={product.id} product={product} />
  ))}
</div>

    );
};

export default ProductsPage;
```
- productCard.tsx
```ts
import { IProduct } from "@/type";



const ProductCard = ({product}:{product:IProduct}) => {
    console.log(product)
    return (
    <div className="max-w-sm  bg-red-500  rounded-lg shadow-md overflow-hidden  ">
      {/* Product Image */}
      <img
        src={product.image}
        alt={product.name}
        className="w-full h-48 object-cover object-center rounded-md"
      />

      {/* Product Info */}
      <div className="mt-4">
        <h3 className="text-lg font-semibold text-gray-900 ">{product.name}</h3>
        <p className="text-sm text-gray-600 mt-1 line-clamp-2">{product.description}</p>

        <div className="mt-2 text-gray-700">
          <p>Category: {product.category}</p>
          <p>Price: ${product.price.toFixed(2)}</p>
          <p>Stock: {product.stock}</p>
          <p>Rating: {product.rating}</p>
        </div>
      </div>
    </div>
  );
};

export default ProductCard;
```
-- type/index.ts
```ts

export interface IProduct {
  id: number;
  name: string;
  description: string;
  price: number;
  category: string;
  stock: number;
  image: string;
  rating: number;
}
```

## 52-5 Explain SSG by Next-level Data Fetching

![alt text](image-4.png)
![alt text](image-5.png)
- cache: "force-cache" tells Next.js (and underlying React Server Components) to store the response in CDN/cache.
- The first time the page is built or visited, Next.js fetches the data from your API (localhost:5000/products).
- The fetched data is then cached in CDN.
- Next time a user visits the page, Next.js serves the cached HTML/data immediately without fetching from the server again.
```ts
/* eslint-disable @typescript-eslint/no-explicit-any */

import ProductCard from '@/components/products/ProductCard';
import { IProduct } from '@/type';
import React from 'react';

const ProductsPage =async () => {
    const res = await fetch("http://localhost:5000/products",{
        cache:"force-cache"
    })
    const products = await res.json()
    
    return (
    <div className="max-w-7xl mx-auto text-center my-8 px-4 sm:px-6 lg:px-8 grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3">
  {products.map((product: IProduct) => (
    <ProductCard key={product.id} product={product} />
  ))}
</div>

    );
};

export default ProductsPage;
```